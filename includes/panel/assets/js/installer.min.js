var pt_installer=pt_installer||{};jQuery(document).ready(function(a){"use strict";var b=!1;pt_installer.install_plugin=function(c,d){var e=confirm(pt_installer_localize.install_now);e&&(b=!0,c.addClass("installing"),a.ajax({type:"POST",url:pt_installer_localize.ajax_url,data:{action:"relicwp_plugin_installer",plugin:d,nonce:pt_installer_localize.admin_nonce,dataType:"json"},success:function(a){a&&"success"===a.status?(c.attr("class","activate button button-primary"),c.html(pt_installer_localize.activate_btn)):c.removeClass("installing"),b=!1},error:function(a,d,e){console.log(d),c.removeClass("installing"),b=!1}}))},pt_installer.activate_plugin=function(c,d){a.ajax({type:"POST",url:pt_installer_localize.ajax_url,data:{action:"relicwp_plugin_activation",plugin:d,nonce:pt_installer_localize.admin_nonce,dataType:"json"},success:function(a){a&&"success"===a.status&&(c.attr("class","installed button disabled"),c.html(pt_installer_localize.installed_btn)),b=!1},error:function(a,c,d){console.log(c),b=!1}})},pt_installer.activate_premium_plugin=function(c,d){a.ajax({type:"POST",url:pt_installer_localize.ajax_url,data:{action:"relicwp_premium_plugin_activation",plugin:d,nonce:pt_installer_localize.admin_nonce,dataType:"json"},success:function(a){a&&"success"===a.status&&(c.attr("class","installed button disabled"),c.html(pt_installer_localize.installed_btn)),b=!1},error:function(a,c,d){console.log(c),b=!1}})},a(document).on("click",".pt-plugin-installer a.button:not(.premium-link)",function(c){var d=a(this),e=d.data("slug");if(c.preventDefault(),!d.hasClass("disabled")){if(b)return!1;d.hasClass("install")&&pt_installer.install_plugin(d,e),d.hasClass("activate")&&pt_installer.activate_plugin(d,e)}}),a(document).on("click",".pt-plugin-installer a.button.premium-activation",function(c){var d=a(this),e=d.data("slug");if(c.preventDefault(),!d.hasClass("disabled")){if(b)return!1;d.hasClass("activate")&&pt_installer.activate_premium_plugin(d,e)}})});